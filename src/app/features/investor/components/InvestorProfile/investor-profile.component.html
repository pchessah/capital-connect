<!-- <ng-container *ngIf="investorProfiles$ | async">
  {{investorProfiles}}
</ng-container> -->
<!--<ng-container *ngIf="transactionStatus$ | async"></ng-container> -->

<div class="main">
  <div class="navbar">
    <app-navbar on_dashboard="true"></app-navbar>
  </div>




  <main>
    <div class="left flex flex-col gap-12">
      <div class="flex flex-col gap-3 top-instance">
        <!-- <h2>My Bookings</h2> -->
        <table class="table">
          <thead >
            <tr> 
              <th>Organization Name</th>
              <th>Email Address</th>
              <th>Maximum Funding</th>
              <th>Minimum Funding</th>
              <th>Investor Type</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr >
              <td>OrganizationName</td>
              <td>emailAddress</td>
              <td>maximumFunding</td>
              <td>minimumFunding</td>  
              <td>investorType</td>
              <td>
                <div class="p-[50px]">
                  <button (click)="viewProfile(1)" class="btn btn-secondary">View </button> 
                  <button class="btn btn-danger">Delete</button></div>
              </td>
            </tr>

<!-- 
            <tr >
              <td>OrganizationName</td>
              <td>emailAddress</td>
              <td>maximumFunding</td>
              <td>minimumFunding</td>  
              <td>investorType</td>
              <td><button class="btn btn-secondary">View </button>  <button class="btn btn-danger">Delete</button></td>
            </tr> -->

          </tbody>
        </table>
        <!-- <pagination-controls (pageChange)="pageChange($event)"></pagination-controls> -->
      </div>
    </div>
    <!-- <div class="right__col hidden">
      <button (click)="toggleNewBookingForm()" class="btn">Add New Booking</button>
      <div *ngIf="showNewBookingForm">
        <app-new-booking (bookingCreated)="onBookingCreated($event)"></app-new-booking>
      </div>
    </div> -->
  </main>
</div>




<div *ngIf="visible && investorProfile" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
  <div class="bg-white p-6 rounded shadow-lg w-1/3">
    <h2 class="text-xl font-bold mb-4">Investor Profile</h2>
    <p class="mb-4">View The Full Investor Profile Details</p>
    <div *ngIf="!editMode">
      <p><strong>User ID:</strong> {{ investorProfile.userId }}</p>
      <p><strong>Organization Name:</strong> {{ investorProfile.organizationName }}</p>
      <p><strong>Countries of Investment Focus:</strong> {{ investorProfile.countriesOfInvestmentFocus.join(', ') }}</p>
      <p><strong>Head Office Location:</strong> {{ investorProfile.headOfficeLocation }}</p>
      <p><strong>Email Address:</strong> {{ investorProfile.emailAddress }}</p>
      <p><strong>Contact Person:</strong> {{ investorProfile.contactPerson }}</p>
      <p><strong>Use of Funds:</strong> {{ investorProfile.useOfFunds.join(', ') }}</p>
      <p><strong>Maximum Funding:</strong> {{ investorProfile.maximumFunding }}</p>
      <p><strong>Minimum Funding:</strong> {{ investorProfile.minimumFunding }}</p>
      <p><strong>Sectors of Investment:</strong> {{ investorProfile.sectorsOfInvestment.join(', ') }}</p>
      <p><strong>Business Growth Stages:</strong> {{ investorProfile.businessGrowthStages.join(', ') }}</p>
      <p><strong>Investor Type:</strong> {{ investorProfile.investorType }}</p>
      <p><strong>Investment Structures:</strong> {{ investorProfile.investmentStructures.join(', ') }}</p>
      <p><strong>ESG Focus Areas:</strong> {{ investorProfile.esgFocusAreas.join(', ') }}</p>
      <p><strong>Registration Structures:</strong> {{ investorProfile.registrationStructures.join(', ') }}</p>
      <button class="bg-blue-500 text-white px-4 py-2 rounded mt-4" (click)="toggleEditMode()">Edit</button>
    </div>
    <div *ngIf="editMode" class="space-y-4">
      <label>
        <strong>User ID:</strong>
        <input [(ngModel)]="investorProfile.userId" class="w-full p-2 border rounded">
      </label>
      <label>
        <strong>Organization Name:</strong>
        <input [(ngModel)]="investorProfile.organizationName" class="w-full p-2 border rounded">
      </label>
      <label>
        <strong>Countries of Investment Focus:</strong>
        <select [(ngModel)]="investorProfile.countriesOfInvestmentFocus" multiple class="w-full p-2 border rounded">
          <option *ngFor="let country of ['Kenya', 'Namibia', 'Sudan']" [value]="country">{{ country }}</option>
        </select>
      </label>
      <label>
        <strong>Head Office Location:</strong>
        <input [(ngModel)]="investorProfile.headOfficeLocation" class="w-full p-2 border rounded">
      </label>
      <label>
        <strong>Email Address:</strong>
        <input [(ngModel)]="investorProfile.emailAddress" class="w-full p-2 border rounded">
      </label>
      <label>
        <strong>Contact Person:</strong>
        <input [(ngModel)]="investorProfile.contactPerson" class="w-full p-2 border rounded">
      </label>
      <label>
        <strong>Use of Funds:</strong>
        <select [(ngModel)]="investorProfile.useOfFunds" multiple class="w-full p-2 border rounded">
          <option *ngFor="let use of ['Accounting', 'Finance', 'Sales', 'Tech', 'Customer Service']" [value]="use">{{ use }}</option>
        </select>
      </label>
      <label>
        <strong>Maximum Funding:</strong>
        <input [(ngModel)]="investorProfile.maximumFunding" type="number" class="w-full p-2 border rounded">
      </label>
      <label>
        <strong>Minimum Funding:</strong>
        <input [(ngModel)]="investorProfile.minimumFunding" type="number" class="w-full p-2 border rounded">
      </label>
      <label>
        <strong>Sectors of Investment:</strong>
        <select [(ngModel)]="investorProfile.sectorsOfInvestment" multiple class="w-full p-2 border rounded">
          <option *ngFor="let sector of ['Agriculture', 'Engineering', 'Health']" [value]="sector">{{ sector }}</option>
        </select>
      </label>
      <label>
        <strong>Business Growth Stages:</strong>
        <select [(ngModel)]="investorProfile.businessGrowthStages" multiple class="w-full p-2 border rounded">
          <option *ngFor="let stage of ['Beginner', 'Amateur', 'Experienced']" [value]="stage">{{ stage }}</option>
        </select>
      </label>
      <label>
        <strong>Investor Type:</strong>
        <input [(ngModel)]="investorProfile.investorType" class="w-full p-2 border rounded">
      </label>
      <label>
        <strong>Investment Structures:</strong>
        <select [(ngModel)]="investorProfile.investmentStructures" multiple class="w-full p-2 border rounded">
          <option *ngFor="let structure of ['Structure 1', 'Structure 2']" [value]="structure">{{ structure }}</option>
        </select>
      </label>
      <label>
        <strong>ESG Focus Areas:</strong>
        <select [(ngModel)]="investorProfile.esgFocusAreas" multiple class="w-full p-2 border rounded">
          <option *ngFor="let area of ['Test', 'Focus', 'Area']" [value]="area">{{ area }}</option>
        </select>
      </label>
      <label>
        <strong>Registration Structures:</strong>
        <select [(ngModel)]="investorProfile.registrationStructures" multiple class="w-full p-2 border rounded">
          <option *ngFor="let structure of ['Test', 'Focus', 'Area']" [value]="structure">{{ structure }}</option>
        </select>
      </label>
      <div class="flex justify-end space-x-2">
        <button class="bg-green-500 text-white px-4 py-2 rounded" (click)="saveProfile()">Save</button>
        <button class="bg-gray-500 text-white px-4 py-2 rounded" (click)="toggleEditMode()">Cancel</button>
      </div>
    </div>
  </div>
</div>

